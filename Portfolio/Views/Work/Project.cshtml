@model Portfolio.Models.Project

@section article {

<article id="project" class="grid_12">
    <section class="project-nav" style="">
        <section id="thumbnails">
            <img src="@Url.Content("~/img/elements/back-key.png")" class="keys" id="back-key" alt=" "/>
            <!-- ko foreach: images -->
            <a class="thumbnail-graphic" data-bind="click: $parent.moveTo"><img data-bind="attr: { src: $parent.isActive($data) }" alt=" "/></a>
            <!-- /ko -->
            <img src="@Url.Content("~/img/elements/next-key.png")" class="keys" id="next-key" alt=" "/>
        </section>
        <h3>@Model.Name</h3>
    </section>
    <section id="gallery">
        <figure>
            <a id="gallery-previous" class="gallery-nav" data-bind="hoverclass: 'active', css: { inactive: !afterFirst() }, click: movePrevious"></a>
            <a id="gallery-next" class="gallery-nav" data-bind="hoverclass: 'active', css: { inactive: !beforeLast() }, click: moveNext"></a>
            <img data-bind="attr: { src: current().src, alt: current().caption }" width="699"/>
            <figcaption data-bind="text: current().caption"></figcaption>
        </figure>
    </section>
    <section class="grid_4" id="overview">
        <dl>
            <dt>Client</dt>
            <dd>@Model.Client</dd>
            <dt>Site</dt>
            <dd><a href="@Model.SiteUrl" target="_blank">@Model.SiteUrl</a></dd>
            <dt>Disciplines</dt>
            <dd>@Model.Keywords</dd>
            <dt>Technologies</dt>
            <dd>@Model.Technologies</dd>
        </dl>
    </section>
    <section class="grid_7" id="description">
        <p>@Model.Description</p>
    </section>
</article>

}

@section scripts {

<script type="text/javascript" src="@Url.Content("~/Scripts/gallery.js")"></script>
<script type="text/javascript">

    var imageData = @Html.Raw(Json.Encode(Model.ImagesToJsonModels()));
    var gallery = new Gallery(imageData);

    ko.applyBindings(gallery);

</script>

}

